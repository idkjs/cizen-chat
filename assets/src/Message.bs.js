// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var $$Array = require("bs-platform/lib/js/array.js");
var Curry = require("bs-platform/lib/js/curry.js");
var MessageMap$CizenChat = require("./MessageMap.bs.js");
var Caml_builtin_exceptions = require("bs-platform/lib/js/caml_builtin_exceptions.js");

function addMsg(avatar_id, room, body, map) {
  var msg = {
    body: body,
    avatar_id: avatar_id
  };
  if (!Curry._2(MessageMap$CizenChat.MessageMap.mem, room, map)) {
    return Curry._3(MessageMap$CizenChat.MessageMap.add, room, [msg], map);
  }
  var messages = Curry._2(MessageMap$CizenChat.MessageMap.find, room, map);
  return Curry._3(MessageMap$CizenChat.MessageMap.add, room, $$Array.concat(/* :: */[
                  messages,
                  /* :: */[
                    [msg],
                    /* [] */0
                  ]
                ]), map);
}

function getMsg(room, map) {
  try {
    return Curry._2(MessageMap$CizenChat.MessageMap.find, room, map);
  }
  catch (exn){
    if (exn === Caml_builtin_exceptions.not_found) {
      return [];
    }
    throw exn;
  }
}

exports.addMsg = addMsg;
exports.getMsg = getMsg;
/* MessageMap-CizenChat Not a pure module */
